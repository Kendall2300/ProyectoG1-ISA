<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36" version="28.2.5">
  <diagram name="Pipeline Datapath" id="pipeline-5-stages">
    <mxGraphModel dx="2049" dy="782" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="1800" pageHeight="1000" background="none" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="stage-if" value="IF — Instruction Fetch" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fbfcfd;strokeColor=#1f2937;strokeWidth=2;fontSize=12;fontStyle=1;align=left;verticalAlign=top;spacingLeft=10;spacingTop=5;" parent="1" vertex="1">
          <mxGeometry y="50" width="200" height="200" as="geometry" />
        </mxCell>
        <mxCell id="if-pc" value="PC" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#374151;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="15" y="90" width="70" height="35" as="geometry" />
        </mxCell>
        <mxCell id="if-pc4" value="PC + 4" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#374151;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="100" y="90" width="85" height="35" as="geometry" />
        </mxCell>
        <mxCell id="if-imem" value="IMEM" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#374151;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="15" y="140" width="170" height="90" as="geometry" />
        </mxCell>
        <mxCell id="latch-ifid" value="IF/ID&#xa;&#xa;PC+4&#xa;&#xa;IR&#xa;(instrucción)&#xa;&#xa;flush_bit" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6f2ff;strokeColor=#0b72b5;strokeWidth=2;fontSize=12;fontStyle=1;align=left;verticalAlign=top;spacingLeft=10;spacingTop=5;" parent="1" vertex="1">
          <mxGeometry x="260" y="50" width="80" height="200" as="geometry" />
        </mxCell>
        <mxCell id="stage-id" value="ID — Decode / Register File" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fbfcfd;strokeColor=#1f2937;strokeWidth=2;fontSize=12;fontStyle=1;align=left;verticalAlign=top;spacingLeft=10;spacingTop=5;" parent="1" vertex="1">
          <mxGeometry x="360" y="50" width="260" height="250" as="geometry" />
        </mxCell>
        <mxCell id="id-regfile" value="Register File&#xa;2 read ports&#xa;1 write port (WB)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#374151;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="375" y="90" width="140" height="65" as="geometry" />
        </mxCell>
        <mxCell id="id-decoder" value="Decoder /&#xa;Control" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#374151;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="525" y="90" width="80" height="65" as="geometry" />
        </mxCell>
        <mxCell id="id-signext" value="Sign/Zero Ext" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#374151;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="375" y="170" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="id-hazard" value="Hazard Detection Unit&#xa;LD→use, Mult/Div/Vault BUSY → Stall" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#374151;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="375" y="235" width="230" height="50" as="geometry" />
        </mxCell>
        <mxCell id="latch-idex" value="ID/EX&#xa;&#xa;rs1_val&#xa;rs2_val&#xa;&#xa;Imm_ext&#xa;&#xa;rs1, rs2&#xa;rd&#xa;&#xa;ctrl signals" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6f2ff;strokeColor=#0b72b5;strokeWidth=2;fontSize=12;fontStyle=1;align=left;verticalAlign=top;spacingLeft=10;spacingTop=5;" parent="1" vertex="1">
          <mxGeometry x="640" y="50" width="80" height="250" as="geometry" />
        </mxCell>
        <mxCell id="stage-ex" value="EX — Execute" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fbfcfd;strokeColor=#1f2937;strokeWidth=2;fontSize=12;fontStyle=1;align=left;verticalAlign=top;spacingLeft=10;spacingTop=5;" parent="1" vertex="1">
          <mxGeometry x="740" y="50" width="280" height="290" as="geometry" />
        </mxCell>
        <mxCell id="ex-forward" value="Forwarding Unit&#xa;selA / selB" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#374151;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="755" y="90" width="110" height="45" as="geometry" />
        </mxCell>
        <mxCell id="ex-alu" value="ALU&#xa;ops, flags Z/N" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#374151;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="885" y="90" width="120" height="70" as="geometry" />
        </mxCell>
        <mxCell id="ex-mult" value="Mult / Div&#xa;start/busy/done" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#374151;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="755" y="150" width="110" height="55" as="geometry" />
        </mxCell>
        <mxCell id="ex-crypto" value="Crypto / Hash Unit&#xa;AES, SHA, operaciones&#xa;BUSY / DONE signals" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#374151;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="755" y="220" width="250" height="105" as="geometry" />
        </mxCell>
        <mxCell id="latch-exmem" value="EX/MEM&#xa;&#xa;ALU_result&#xa;&#xa;write_data&#xa;(rs2)&#xa;&#xa;rd&#xa;&#xa;MemRead&#xa;MemWrite" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6f2ff;strokeColor=#0b72b5;strokeWidth=2;fontSize=12;fontStyle=1;align=left;verticalAlign=top;spacingLeft=10;spacingTop=5;" parent="1" vertex="1">
          <mxGeometry x="1040" y="50" width="80" height="290" as="geometry" />
        </mxCell>
        <mxCell id="stage-mem" value="MEM — Memory / Vault" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fbfcfd;strokeColor=#1f2937;strokeWidth=2;fontSize=12;fontStyle=1;align=left;verticalAlign=top;spacingLeft=10;spacingTop=5;" parent="1" vertex="1">
          <mxGeometry x="1140" y="50" width="280" height="290" as="geometry" />
        </mxCell>
        <mxCell id="mem-dmem" value="DMEM&#xa;(Data Memory)&#xa;&#xa;read_data&#xa;write_data&#xa;alignment, bytes" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#374151;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="1155" y="90" width="130" height="100" as="geometry" />
        </mxCell>
        <mxCell id="mem-vault" value="Vault Module&#xa;&#xa;VAULT[0..7] registers&#xa;write-controlled access&#xa;&#xa;Handshake signals:&#xa;BUSY / DONE" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#374151;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="1155" y="205" width="250" height="120" as="geometry" />
        </mxCell>
        <mxCell id="latch-memwb" value="MEM/WB&#xa;&#xa;read_data&#xa;&#xa;ALU_result&#xa;&#xa;rd&#xa;&#xa;RegWrite&#xa;&#xa;MemToReg" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6f2ff;strokeColor=#0b72b5;strokeWidth=2;fontSize=12;fontStyle=1;align=left;verticalAlign=top;spacingLeft=10;spacingTop=5;" parent="1" vertex="1">
          <mxGeometry x="1440" y="50" width="80" height="290" as="geometry" />
        </mxCell>
        <mxCell id="wb-mux" value="Writeback Mux&#xa;ALU_result / MEM.read&#xa;Hash / PC+4" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#374151;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="1390" y="410" width="180" height="70" as="geometry" />
        </mxCell>
        <mxCell id="wire-if-ifid" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#111827;endArrow=classic;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="stage-if" target="latch-ifid" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wire-ifid-id" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#111827;endArrow=classic;" parent="1" source="latch-ifid" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="360" y="150" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wire-id-idex" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#111827;endArrow=classic;" parent="1" target="latch-idex" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="620" y="175" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wire-idex-ex" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#111827;endArrow=classic;entryX=-0.005;entryY=0.434;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="720" y="177.05999999999995" as="sourcePoint" />
            <mxPoint x="738.5999999999999" y="177.92000000000002" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wire-ex-exmem" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#111827;endArrow=classic;" parent="1" source="ex-alu" target="latch-exmem" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1030" y="125" />
              <mxPoint x="1030" y="180" />
              <mxPoint x="1020" y="180" />
              <mxPoint x="1020" y="195" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wire-exmem-mem" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#111827;endArrow=classic;" parent="1" source="latch-exmem" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1140" y="195" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wire-mem-memwb" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#111827;endArrow=classic;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="stage-mem" target="latch-memwb" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wire-memwb-wb" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#111827;endArrow=classic;" parent="1" source="latch-memwb" target="wb-mux" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wire-wb-regfile" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#7c3aed;endArrow=classic;entryX=0.769;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="wb-mux" target="stage-id" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1480" y="500" />
              <mxPoint x="560" y="500" />
            </Array>
            <mxPoint x="560" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="label-wb" value="RegWrite → Register File" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#7c3aed;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="910" y="500" width="180" height="20" as="geometry" />
        </mxCell>
        <mxCell id="wire-forward-exmem" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#059669;endArrow=classic;dashed=0;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1080" y="440" />
              <mxPoint x="850" y="440" />
            </Array>
            <mxPoint x="1080.0032154340834" y="339.99999999999994" as="sourcePoint" />
            <mxPoint x="850" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="label-fwd-exmem" value="forward EX/MEM" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#059669;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="910" y="420" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="wire-forward-memwb" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#059669;endArrow=classic;dashed=0;entryX=0.287;entryY=0.999;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="latch-memwb" target="stage-ex" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1600" y="195" />
              <mxPoint x="1600" y="560" />
              <mxPoint x="820" y="560" />
            </Array>
            <mxPoint x="820" y="370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="label-fwd-memwb" value="forward MEM/WB" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#059669;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="1150" y="540" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="wire-stall-pc" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#d97706;endArrow=classic;dashed=1;dashPattern=6 4;entryX=0.25;entryY=1;entryDx=0;entryDy=0;" parent="1" target="stage-if" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="420" y="390" />
              <mxPoint x="50" y="390" />
            </Array>
            <mxPoint x="420" y="300" as="sourcePoint" />
            <mxPoint x="90" y="260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="label-stall-pc" value="Stall PC" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#d97706;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="150" y="390" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="wire-flush-ifid" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#d97706;endArrow=classic;dashed=1;dashPattern=6 4;" parent="1" target="latch-ifid" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="450" y="470" />
              <mxPoint x="300" y="470" />
            </Array>
            <mxPoint x="450" y="300" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="label-flush" value="Freeze/Flush IF/ID" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#d97706;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="310" y="470" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="wire-vault-hazard" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#d97706;endArrow=classic;dashed=1;dashPattern=6 4;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="stage-mem" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1280" y="600" />
              <mxPoint x="520" y="600" />
            </Array>
            <mxPoint x="1250" y="390" as="sourcePoint" />
            <mxPoint x="520" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="label-vault-busy" value="Vault BUSY → Hazard (stall)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#d97706;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="920" y="605" width="180" height="20" as="geometry" />
        </mxCell>
        <mxCell id="wire-mult-hazard" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#d97706;endArrow=classic;dashed=1;dashPattern=6 4;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="790" y="340" />
              <mxPoint x="790" y="640" />
              <mxPoint x="480" y="640" />
            </Array>
            <mxPoint x="790" y="340" as="sourcePoint" />
            <mxPoint x="480" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="label-mult-busy" value="Mult/Div BUSY" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#d97706;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="580" y="645" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f9fafb;strokeColor=#d1d5db;strokeWidth=1;" parent="1" vertex="1">
          <mxGeometry x="40" y="700" width="1480" height="260" as="geometry" />
        </mxCell>
        <mxCell id="legend-title" value="Leyenda" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="60" y="715" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="legend-line1" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#111827;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="60" y="760" as="sourcePoint" />
            <mxPoint x="110" y="760" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="legend-text1" value="Flujo de datos principal" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="120" y="750" width="250" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend-line2" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#059669;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="60" y="790" as="sourcePoint" />
            <mxPoint x="110" y="790" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="legend-text2" value="Forwarding — resuelven data hazards" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="120" y="780" width="350" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend-line3" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#7c3aed;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="60" y="820" as="sourcePoint" />
            <mxPoint x="110" y="820" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="legend-text3" value="Writeback — escribe en Register File" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="120" y="810" width="350" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend-line4" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#d97706;dashed=1;dashPattern=6 4;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="60" y="850" as="sourcePoint" />
            <mxPoint x="110" y="850" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="legend-text4" value="Señales de control y stall" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="120" y="840" width="350" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend-latches-title" value="Latches entre etapas:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="60" y="880" width="200" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend-latches1" value="• IF/ID: guarda PC+4 e instrucción" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="60" y="900" width="400" height="18" as="geometry" />
        </mxCell>
        <mxCell id="legend-latches2" value="• ID/EX: guarda valores rs1/rs2, inmediato extendido, señales de control" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="60" y="918" width="500" height="18" as="geometry" />
        </mxCell>
        <mxCell id="legend-latches3" value="• EX/MEM: guarda resultado ALU, dato a escribir, señales mem" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="60" y="936" width="450" height="18" as="geometry" />
        </mxCell>
        <mxCell id="legend-notes-title" value="Notas de Implementación:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="800" y="760" width="200" height="20" as="geometry" />
        </mxCell>
        <mxCell id="legend-notes1" value="• Hazard Detection: Load-use (stall 1 ciclo), Mult/Div busy, Vault busy" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="800" y="780" width="500" height="18" as="geometry" />
        </mxCell>
        <mxCell id="legend-notes2" value="• Forwarding: EX/MEM → EX (resultado ALU recién calculado)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="800" y="798" width="450" height="18" as="geometry" />
        </mxCell>
        <mxCell id="legend-notes3" value="• Forwarding: MEM/WB → EX (dato de memoria o resultado previo)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="800" y="816" width="450" height="18" as="geometry" />
        </mxCell>
        <mxCell id="legend-notes4" value="• Vault: 8 registros protegidos con handshake BUSY/DONE" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="800" y="834" width="400" height="18" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
